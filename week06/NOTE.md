
### 第六周学习笔记

#### 一、CSS@规则

CSS 的顶层样式表由两种规则组成的规则列表构成，一种被称为 at-rule，也就是 at 规则，另一种是 qualified rule，也就是普通规则。

##### 1、at 规则

1).@charset
2).@import
3).@media 
4).@page
5).@counter-style
6).@keyframes
7).@fontface
8).@supports
9).@namespace

##### 2、普通规则

选择器
声明列表
&nbsp;&nbsp;属性
&nbsp;&nbsp;值
&nbsp;&nbsp;&nbsp;&nbsp;值的类型
&nbsp;&nbsp;&nbsp;&nbsp;函数

##### 3、选择器

任何选择器，都是由几个符号结构连接的：空格、大于号、加号、波浪线、双竖线，这里需要注意一下，空格，即为后代选择器的优先级较低。

##### 4、声明：属性和值

属性是由中划线、下划线、字母等组成的标识符，CSS 还支持使用反斜杠转义。
CSS 属性值可能是以下类型。

1. CSS 范围的关键字：initial，unset，inherit，任何属性都可以的关键字。
2. 字符串：比如 content 属性。
3. URL：使用 url() 函数的 URL 值。
4. 整数 / 实数：比如 flex 属性。
5. 维度：单位的整数 / 实数，比如 width 属性。
6. 百分比：大部分维度都支持。
7. 颜色：比如 background-color 属性。
8. 图片：比如 background-image 属性
9. 2D 位置：比如 background-position 属性
10. 函数：来自函数的值，比如 transform 属性

#### 二、CSS选择器

选择器的基本意义是：根据一些特征，选中元素树上的一批元素。

##### 1、选择器的分类

1. 简单选择器：针对某一特征判断是否选中元素。
2. 复合选择器：连续写在一起的简单选择器，针对元素自身特征选择单个元素。
3. 复杂选择器：由“（空格）”“ >”“ ~”“ +”“ ||”等符号连接的复合选择器，根据父元素或者前序元素检查单个元素。
4. 选择器列表：由逗号分隔的复杂选择器，表示“或”的关系。

##### 简单选择器（基本选择器）

![avatar](https://static001.geekbang.org/resource/image/4c/ce/4c9ac78870342dc802137ea9c848c0ce.png)

1. 类型选择器（div span）：根据一个元素的标签名来选中元素
   按照给定的节点名称，选择所有匹配的元素。
   语法：elementname
   例子：input 匹配任何 <input> 元素。
2. 全体选择器（*）：可以选择任意元素，用法跟类型选择器完全一致的
   选择所有元素。（可选）可以将其限制为特定的名称空间或所有名称空间。
   语法：* ns|* *|*
   例子：* 将匹配文档的所有元素。  
3. id选择器：针对特定属性的选择器，“#”号后面跟id名
   按照 id 属性选择一个与之匹配的元素。需要注意的是，一个文档中，每个 ID 属性都应当是唯一的。
   语法：#idname
   例子：#toc 匹配 ID 为 "toc" 的元素。
4. class选择器：针对特定属性的选择器，“.”后面跟class名
   按照 class 属性选择一个与之匹配的元素。
   语法：.classname
   例子：.toc 匹配 class 为 "toc" 的元素。
5. 属性选择器：[attr] [arrt=val] [attr~=val] [attr|=val]
   按照给定的属性，选择所有匹配的元素。
   语法：[attr] [attr=value] [attr~=value] [attr|=value] [attr^=value] [attr$=value] [attr*=value]
   例子：[autoplay] 选择所有具有 autoplay 属性的元素（不论这个属性的值是什么）。
6. 伪类选择器：
&nbsp;&nbsp;树结构关系伪类选择器
&nbsp;&nbsp;链接与行为伪类选择器
&nbsp;&nbsp;逻辑伪类选择器
&nbsp;&nbsp;其他伪类选择器

##### 复合选择器（分组选择器）

, 是将不同的选择器组合在一起的方法，它选择所有能被列表中的任意一个选择器选中的节点。
语法：A, B
示例：div, span 会同时匹配 `<span>` 元素和 `<div>` 元素。

##### 复杂选择器（组合器）

复杂选择器是针对节点关系的选择，它规定了五种连接符号。

1. **“空格”**：后代，表示选中所有符合条件的后代节点， 例如“ .a .b ”表示选中所有具有 class 为 a 的后代节点中 class 为 b 的节点。
2. **“>”** ：子代，表示选中符合条件的子节点，例如“ .a>.b ”表示：选中所有“具有 class 为 a 的子节点中，class 为 b 的节点”。
3. **“~”** : 后继，表示选中所有符合条件的后继节点，后继节点即跟当前节点具有同一个父元素，并出现在它之后的节点，例如“ .a~.b ”表示选中所有具有 class 为 a 的后继中，class 为 b 的节点。
4. **“+”**：直接后继，表示选中符合条件的直接后继节点，直接后继节点即 nextSlibling。例如 “.a+.b ”表示选中所有具有 class 为 a 的下一个 class 为 b 的节点。
5. **“||”**：列选择器，表示选中对应列中符合条件的单元格。

##### 选择器的优选级

CSS 标准用一个三元组 (a, b, c) 来构成一个复杂选择器的优先级。

1. id 选择器的数目记为 a；
2. 伪类选择器和 class 选择器的数目记为 b；
3. 伪元素选择器和标签选择器数目记为 c；
4. “*” 不影响优先级.

`
specificity = base * base * a + base * b + c
`
其中，base 是一个“足够大”的正整数。
**同一优先级的选择器遵循“后面的覆盖前面的”原则**

##### CSS选择器列表

1. **选择器：** .class **例子：** .intro **例子描述：** 选择 class="intro" 的所有元素。
2. **选择器：** #id    **例子：** #firstname    **例子描述：** 选择 id="firstname" 的所有元素。
3. **选择器：** *  **例子：**  *	  **例子描述：** 选择所有元素。
4. **选择器：** element **例子：**	p	 **例子描述：** 选择所有 `<p>` 元素。
5. **选择器：** element,element	 **例子：** div,p	**例子描述：**  选择所有 `<div>` 元素和所有 `<p>` 元素。
6. **选择器：** element element	**例子：** div p	**例子描述：** 选择 `<div>` 元素内部的所有 `<p>`元素。
7. **选择器：**  element>element	 **例子：** div>p	**例子描述：** 选择父元素为 `<div>` 元素的所有 `<p>` 元素。
8. **选择器：** element+element	**例子：** div+p	**例子描述：** 选择紧接在 `<div>` 元素之后的所有 `<p>` 元素。
9. **选择器：** [attribute]	**例子：** [target]	 **例子描述：** 选择带有 target 属性所有元素。
10. **选择器：** [attribute=value]	**例子：** [target=_blank]  **例子描述：**	选择 target="_blank" 的所有元素。 
11. **选择器：** [attribute~=value]	**例子：** [title~=flower]	**例子描述：** 选择 title 属性包含单词 "flower" 的所有元素。
12. **选择器：** [attribute|=value]	**例子：** [lang|=en]	**例子描述：** 选择 lang 属性值以 "en" 开头的所有元素。
13. **选择器：**:link	**例子：** a:link	 **例子描述：** 选择所有未被访问的链接。 
14. **选择器：** :visited	**例子：** a:visited	**例子描述：** 选择所有已被访问的链接。
15. **选择器：** :active	**例子：** a:active	**例子描述：** 选择活动链接。
16. **选择器：** :hover	**例子：** a:hover	**例子描述：** 选择鼠标指针位于其上的链接。
17. **选择器：** :focus	**例子：** input:focus	**例子描述：** 选择获得焦点的 input 元素。
18. **选择器：** :first-letter	**例子：** p:first-letter	**例子描述：** 选择每个 `<p>` 元素的首字母。
19. **选择器：** :first-line	**例子：** p:first-line	**例子描述：** 选择每个 <p> 元素的首行。
20. **选择器：** :first-child	**例子：** p:first-child	**例子描述：** 选择属于父元素的第一个子元素的每个 `<p>` 元素。
21. **选择器：** :before	**例子：** p:before	 **例子描述：** 在每个`<p>` 元素的内容之前插入内容。
22. **选择器：** :after	**例子：** p:after	**例子描述：** 在每个 `<p>` 元素的内容之后插入内容。
23. **选择器：** :lang(language)	**例子：** p:lang(it)	**例子描述：** 选择带有以 "it" 开头的 lang 属性值的每个 <p> 元素。
24. **选择器：** element1~element2 **例子：**	p~ul	**例子描述：** 选择前面有 `<p>` 元素的每个 `<ul>` 元素。
25. **选择器：** [attribute^=value]	**例子：** a[src^="https"]	**例子描述：** 选择其 src 属性值以 "https" 开头的每个 `<a>` 元素。
26. **选择器：** [attribute$=value]	 **例子：** a[src$=".pdf"]	**例子描述：** 选择其 src 属性以 ".pdf" 结尾的所有 `<a>` 元素。
27. **选择器：** [attribute*=value]	 **例子：** a[src*="abc"]	**例子描述：** 选择其 src 属性中包含 "abc" 子串的每个 `<a>` 元素。
28. **选择器：** :first-of-type	**例子：** p:first-of-type	**例子描述：** 选择属于其父元素的首个 `<p>` 元素的每个 `<p>` 元素。
29. **选择器：** :last-of-type	**例子：** p:last-of-type	**例子描述：** 选择属于其父元素的最后 `<p>` 元素的每个 `<p>` 元素。
30. **选择器：** :only-of-type	**例子：** p:only-of-type	**例子描述：** 选择属于其父元素唯一的 `<p> `元素的每个 `<p>` 元素。
31. **选择器：** :only-child	**例子：** p:only-child	**例子描述：** 选择属于其父元素的唯一子元素的每个 `<p>`元素。
32. **选择器：** :nth-child(n) **例子：**	p:nth-child(2)	**例子描述：** 选择属于其父元素的第二个子元素的每个 `<p>` 元素。
33.  **选择器：** :nth-last-child(n)	**例子：** p:nth-last-child(2)	**例子描述：** 同上，从最后一个子元素开始计数。
34. **选择器：** :nth-of-type(n)	**例子：** p:nth-of-type(2)	**例子描述：** 选择属于其父元素第二个 `<p>` 元素的每个 `<p>` 元素。 
35.  **选择器：** :nth-last-of-type(n)	**例子：** p:nth-last-of-type(2)	**例子描述：** 同上，但是从最后一个子元素开始计数。
36. **选择器：** :last-child	**例子：** p:last-child	**例子描述：** 选择属于其父元素最后一个子元素每个 `<p>` 元素。  
37. **选择器：** :root	**例子：** :root	**例子描述：** 选择文档的根元素。
38. **选择器：** :empty		**例子：** p:empty	**例子描述：** 选择没有子元素的每个 `<p>` 元素（包括文本节点）。
39. **选择器：** :target	**例子：** #news:target	**例子描述：** 选择当前活动的 #news 元素。
40. **选择器：** :enabled	**例子：** input:enabled	**例子描述：** 选择每个启用的 `<input>` 元素。
41. **选择器：** :disabled	**例子：** input:disabled	**例子描述：** 选择每个禁用的 `<input>` 元素
42. **选择器：** :checked		**例子：** input:checked	**例子描述：** 选择每个被选中的 `<input>` 元素。
43. **选择器：** :not(selector)	**例子：** :not(p)	**例子描述：** 选择非 `<p>` 元素的每个元素。
44. **选择器：** ::selection	**例子：** ::selection	**例子描述：** 选择被用户选取的元素部分。